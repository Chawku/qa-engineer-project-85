---
- summary: |
    Проверка регистрации нового пользователя с валидными данными
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться при вводе корректных данных
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Email = testshrimp@inbox.ru
    Ник = testuser_101
    Пароль = Testdata101!
  steps:
    - Ввести email
    - Ввести ник
    - Ввести пароль
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь успешно регистрируется и попадает на главную страницу

- summary: |
    Проверка входа пользователя с существующими логином и паролем
  requirement: |
    При верном вводе логина и пароля пользователь должен войти в систему
  prerequisites: |
    Открыта страница логина
    Существующий пользователь зарегистрирован в системе
  test-data: |
    Логин = testuser101
    Пароль = Testdata101!
  steps:
    - Ввести логин
    - Ввести пароль
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь попадает на главную страницу

- summary: |
    Проверка входа через GitHub
  requirement: |
    Пользователь должен иметь возможность авторизоваться через GitHub
  prerequisites: |
    Открыта страница входа
    У пользователя есть действующий аккаунт GitHub
  test-data: |
    Аккаунт GitHub
  steps:
    - Нажать кнопку "Sign up with GitHub"
    - Ввести GitHub логин и пароль
    - Подтвердить вход
  expected-result: |
    Пользователь успешно авторизован и перенаправлен в систему

- summary: |
    Проверка входа через Discord
  requirement: |
    Пользователь должен иметь возможность авторизоваться через Discord
  prerequisites: |
    Открыта страница входа
    У пользователя есть действующий аккаунт Discord
  test-data: |
    Аккаунт Discord
  steps:
    - Нажать кнопку "Sign up with Discord"
    - Ввести логин и пароль от Discord
    - Подтвердить вход
  expected-result: |
    Пользователь успешно авторизован и перенаправлен в систему

- summary: |
    Проверка создания игры против бота
  requirement: |
    Пользователь должен иметь возможность начать игру против бота
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Режим игры = с ботом
  steps:
    - Нажать кнопку "Create game"
    - Выбрать опцию "With bot"
    - Подтвердить выбор
  expected-result: |
    Игра с ботом успешно создается, открывается редактор задач

- summary: |
    Проверка чата во время игры
  requirement: |
    Пользователь должен иметь возможность отправлять и получать сообщения в чате
  prerequisites: |
    Создана игра между двумя пользователями
  test-data: |
    Сообщение = "Привет!"
  steps:
    - Открыть окно чата
    - Ввести сообщение "Привет!"
    - Нажать кнопку "Send"
  expected-result: |
    Сообщение отображается в чате и доступно другому игроку

- summary: |
    Проверка отображения таблицы лидеров
  requirement: |
    Пользователь должен иметь возможность просматривать таблицу лидеров
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Нет
  steps:
    - Находится на главной странице
  expected-result: |
    Отображается таблица лидеров с рейтингами пользователей

- summary: |
    Проверка восстановления пароля с помощью email
  requirement: |
    Пользователь должен иметь возможность восстановить пароль через email
  prerequisites: |
    Открыта страница восстановления пароля
  test-data: |
    Email = testshrimp101@inbox.ru
  steps:
    - Нажать кнопку "Sign in"
    - Нажать кнопку "Forgot your password?"
    - Ввести email
    - Открыть письмо и перейти по ссылке
  expected-result: |
    Пользователю отправляется письмо с инструкцией по восстановлению пароля и он может восстановить пароль

- summary: |
    Проверка входа с пустыми полями
  requirement: |
    При пустом логине или пароле система должна показать сообщение об ошибке
  prerequisites: |
    Открыта страница логина
  test-data: |
    Нет тестовых данных
  steps:
    - Не вводить логин
    - Не вводить пароль
    - Нажать кнопку "Submit"
  expected-result: |
    Отображается сообщение об ошибке

- summary: |
    Проверка регистрации с уже существующим email
  requirement: |
    При попытке зарегистрировать аккаунт с уже существующим email система должна показать сообщение об ошибке
  prerequisites: |
    Существует пользователь с email testshrimp101@inbox.ru
  test-data: |
    Email = testshrimp101@inbox.ru
    Ник = testuser1000
    Пароль = Testdata101!
  steps:
    - Ввести email user@example.com
    - Ввести новый ник
    - Ввести пароль
    - Нажать кнопку «Submit»
  expected-result: |
    Отображается сообщение об ошибке «Email уже используется»

- summary: |
    Проверка создания игры с другом по ссылке
  requirement: |
    Пользователь должен иметь возможность пригласить друга по ссылке
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Тип игры = С другом по ссылке
  steps:
    - Нажать кнопку «Создать игру»
    - Выбрать опцию «С другом по ссылке»
    - Скопировать ссылку и открыть её в другом браузере
  expected-result: |
    Другой пользователь может подключиться по ссылке и начать игру

- summary: |
    Проверка отображения кода соперника в реальном времени
  requirement: |
    Пользователь должен видеть вводимый код соперника
  prerequisites: |
    Создана игра между двумя пользователями
  test-data: |
    Нет тестовых данных
  steps:
    - Создать игру 
    - Соперник вводит код (например, print("Hello"))
  expected-result: |
    Код соперника отображается в реальном времени

- summary: |
    Проверка завершения игры при правильном решении задачи
  requirement: |
    При успешном решении задачи игра должна завершиться и отобразить победителя
  prerequisites: |
    Игра создана между двумя пользователями
  test-data: |
    Нет тестовых данных
  steps:
    - Создать игру
    - Ввести правильное решение задачи
    - Нажать кнопку «Run»
  expected-result: |
    Игра завершается, отображается результат и победитель

- summary: |
    Проверка просмотра истории игр пользователя и статистики
  requirement: |
    Пользователь должен иметь возможность просматривать историю своих игр
  prerequisites: |
    Пользователь авторизован
    У пользователя есть завершённые игры
  test-data: |
    Нет
  steps:
    - Нажать на иконку профиля
    - Нажать "My profile"
  expected-result: |
    Отображается список завершённых игр с результатами и статистика

- summary: |
    Проверка отправки слишком длинного сообщения в чате
  requirement: |
    Сообщения в чате должны иметь ограничение по длине
  prerequisites: |
    Создана игра между двумя пользователями
  test-data: |
    Сообщение = строка длиной 2000 символов
  steps:
    - Ввести длинное сообщение
    - Нажать кнопку «Send»
  expected-result: |
    Сообщение не отправляется, отображается ошибка «Message length cannot exceed 1024 characters.»

